function OpenToast(n){$(document).Toasts("create",{title:"Thông báo",body:n,delay:5e3,autohide:!0,position:"bottomRight"})}function OpenModalDetails(n,t,i){var u=n,r;t!=""&&(u+=" ("+t+")");i==""?($("#remove-follow").hide(),$("#add-follow").hide()):i=="1"?($("#remove-follow").show(),$("#add-follow").hide()):($("#add-follow").show(),$("#remove-follow").hide());$("#follow-symbol").val(n);$("#stock-details-title").text("Chi tiết - "+u);r="/home/stockdetails?symbol="+n;$("#stock-details-body").html('<iframe src="'+r+'" class="embed-responsive-item" frameborder="0"><\/iframe>');$("#stock-details-link").prop("href",r);$("#stock-details-modal").modal("toggle")}function ToggleFollow(){var n=$("#follow-symbol").val();$.ajax({cache:!1,type:"GET",contentType:"application/json",dataType:"json",url:"/home/togglefollow?symbol="+n,success:function(n){n.status==1?OpenToast('<span class="text-success">'+n.message+"<\/span>"):OpenToast('<span class="text-danger">'+n.message+"<\/span>");$("#stock-details-modal").modal("toggle")},error:function(){console.log("ToggleFollow error")}})}var connection=(new signalR.HubConnectionBuilder).withUrl("/stockrealtime").build();connection.on("UpdateStockView",function(){LoadMarket()});$(function(){connection.start().then(function(){console.log("Realtime stock connected.")}).catch(function(n){return console.error(n.toString())});$(document).on("click",".s-c",function(n){OpenModalDetails(n.target.innerText,n.target.attributes.title.nodeValue,n.target.attributes.fo.nodeValue)})});